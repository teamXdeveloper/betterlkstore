<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BetterLK Minecraft</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Roboto', sans-serif;
    background: #1e1e1e;
    color: #fff;
    overflow: hidden;
  }

  /* Full page loader */
  #page-loader {
    position: fixed;
    top:0; left:0; width:100%; height:100%;
    background: #1e1e1e;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 9999;
  }

  .loader-bar {
    width: 300px;
    height: 15px;
    background: #333;
    border-radius: 10px;
    overflow: hidden;
    margin-top: 20px;
  }

  .loader-progress {
    width: 0%;
    height: 100%;
    background: #00bfff;
    animation: loadProgress 2.5s linear forwards;
  }

  @keyframes loadProgress {
    0% { width: 0%; }
    100% { width: 100%; }
  }

  .loader-text {
    font-size: 18px;
    margin-top: 10px;
    color: #fff;
  }

  /* Main page hidden initially */
  #main-content { display: none; }

  /* Header */
  header {
    padding: 20px;
    background: #121212;
    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }

  header img { width: 120px; filter: brightness(0) invert(1); }

  h1 { font-size: 28px; color: #ffffff; margin: 0; }

  /* Home button */
  .home-btn {
    position: absolute;
    top: 15px;
    left: 15px;
    background: #00bfff;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3;
    transition: transform 0.3s, background 0.3s;
  }
  .home-btn:hover { background: #0077cc; transform: scale(1.1); }

  /* Status box */
  .status-box {
    margin: 40px auto;
    padding: 30px;
    width: 420px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    background: #2b2b2b;
    color: #fff;
    position: relative;
    z-index: 2;
    text-align: center;
  }

  /* Status & player count */
  .status-text { font-size: 18px; margin: 10px 0; }
  .player-count { font-size: 16px; margin-bottom: 20px; }

  .server-ip { font-size: 14px; margin: 10px 0; }

  .btn {
    padding: 10px 16px;
    border: none;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    margin: 5px;
    font-size: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .copy-btn { background: #222; color: #fff; }
  .copy-btn:hover { background: #0077cc; box-shadow: 0 0 8px #00bfff; }

  .refresh-btn { background: #222; color: #fff; animation: pulse 2s infinite; }
  .refresh-btn:hover { background: #0077cc; box-shadow: 0 0 12px #00bfff; transform: scale(1.05); }

  @keyframes pulse { 0%,100% { box-shadow: 0 0 8px #00bfff; } 50% { box-shadow: 0 0 20px #00bfff; } }

  .status-online-emoji { display:inline-block; animation: pulseEmoji 1s infinite; }
  @keyframes pulseEmoji { 0%,100%{transform:scale(1);} 50%{transform:scale(1.3);} }

  .status-online { color: #00ff00; font-weight:bold; }
  .status-offline { color: red; font-weight:bold; }
</style>
</head>
<body>

<div id="page-loader">
  <img src="blk.png" alt="BetterLK Logo" style="width:100px; filter: brightness(0) invert(1);">
  <div class="loader-bar"><div class="loader-progress"></div></div>
  <div class="loader-text">Loading BetterLK Minecraft...</div>
</div>

<div id="main-content">
  <header>
    <img src="blk.png" alt="BetterLK Logo">
    <h1>BetterLK Minecraft</h1>
  </header>

  <button class="home-btn" onclick="goHome()">üè†</button>

  <div class="status-box">
    <p id="status-text" class="status-text">Loading server status...</p>
    <p id="player-count" class="player-count"></p>

    <div class="server-ip">
      IP: <b>betterlk.nx-mc.xyz</b>
      <button class="btn copy-btn" onclick="copyIP()">üìã</button><br><br>
      Port: <b>25605</b>
      <button class="btn copy-btn" onclick="copyPort()">üìã</button>
    </div>

    <div style="margin-top:20px; display:flex; justify-content:center; gap:10px;">
      <button class="btn refresh-btn" onclick="fetchStatus()">üîÑ</button>
    </div>
  </div>
</div>

<script>
function copyIP(){ navigator.clipboard.writeText("betterlk.nx-mc.xyz"); alert("IP copied!"); }
function copyPort(){ navigator.clipboard.writeText("25605"); alert("Port copied!"); }
function goHome(){ window.location.href = "index.html"; }

const statusText = document.getElementById("status-text");
const playerCount = document.getElementById("player-count");

// simulate page loading
window.addEventListener('load', () => {
  setTimeout(() => {
    document.getElementById('page-loader').style.display = 'none';
    document.getElementById('main-content').style.display = 'block';
    fetchStatus();
  }, 2500); // wait for loader animation
});

async function fetchStatus() {
  statusText.innerHTML = "Loading server status...";
  playerCount.textContent = "";
  try {
    const res = await fetch("https://api.mcsrvstat.us/2/betterlk.nx-mc.xyz:25605");
    const data = await res.json();

    if (data.online) {
      statusText.innerHTML = `Status: <span class="status-online">Online <span class="status-online-emoji">üü¢</span></span>`;
      playerCount.textContent = `Players Online: ${data.players.online}`;
    } else {
      statusText.innerHTML = `Status: <span class="status-offline">Offline üî¥</span>`;
      playerCount.textContent = "";
    }
  } catch(e) {
    statusText.innerHTML = `Status: <span class="status-offline">Error ‚ö†Ô∏è</span>`;
    playerCount.textContent = "";
  }
}
</script>

</body>
</html>
